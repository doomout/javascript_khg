<!--2048 게임
1. 4 X 4 표를 만들고 무작위 위치에 숫자 2를 넣는다.
2. 숫자 타일을 마우스나 키보드로 움직이면 해당 방향으로 타일들을 이동해 정렬한다.
3. 매 턴마다 숫자2 타일이 새로 생긴다.
4. 정렬한 방향에 같은 숫자 타일이 인정해 있으면 하나로 합쳐지면 숫자를 2배로 바꾼다.
5. 합친 숫자가 2048이 되면 승리, 16칸이 모두 꽉 찼는데 합칠 타일이 없으면 패배-->

<html>
<head>
    <meta charset="utf-8">
    <title>2048</title>
    <style>
        #table{ border-collapse: collapse; user-select: none; }
        #table td {
            border: 10px solid #bbada0; width: 116px; height: 128;
            font-size: 50px; font-weight: bold; text-align: center;
        }
        #score { user-select: none; }
        .color-2 { background-color: #eee4da; color: #776e65; }
        .color-4 { background-color: #eee1c9; color: #776e65; }
        .color-8 { background-color: #f3b27a; color: 'white'; }
        .color-16 { background-color: #f69664; color: 'white'; }
        .color-32 { background-color: #f77c5f; color: 'white'; }
        .color-64 { background-color: #f75f3b; color: 'white'; }
        .color-128 { background-color: #edd073; color: #776e65; }
        .color-256 { background-color: #edcc62; color: #776e65; }
        .color-512 { background-color: #edc950; color: #776e65; }
        .color-1024 { background-color: #edc53f; color: #776e65; }
        .color-2048 { background-color: #edc22e; color: #776e65; }
    </style>
</head>
<body>
<table id="table"></table>
<div id="score">0</div>
<script>
    const $table = document.querySelector('#table');
    const $score = document.querySelector('#score');
    let data = [];
    // 4x4 표 그리기
    function startGame() {
        const $fragment = document.createDocumentFragment();
        [1,2,3,4].forEach( function () {
            const rowData= [];
            data.push(rowData);
            const $tr = document.createElement('tr');
            [1,2,3,4].forEach(()=> {
                rowData.push(0);
                const $td = document.createElement('td');
                $tr.appendChild($td);
            });
            $fragment.appendChild($tr);
        });
        $table.appendChild($fragment);
        put2ToRandomCell();
    }
    // 빈칸을 찾아 무작위로 숫자 2 넣기
    function put2ToRandomCell() {
        const emptyCells = [];
        data.forEach(function (rowData, i){
            rowData.forEach(function (cellData, j) {
                if(!cellData) {
                    emptyCells.push([i, j]);
                }
            });
        });
        const randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];
        data[randomCell[0]][randomCell[1]] = 2;
    }   
</script>
</body>

</html>